---
title: 命令行别名配置
toc: true
date: 2022-05-03 04:34:42
categories:
  - 操作系统
  - cli
tags: cli
---

在命令行里，只输入 `s` ，运行效果可以等价于 `yarn start` 或者其它的指令，那将会是很棒的体验，特别是对那些经常使用的命令来说。

<!-- more -->

## Windows 别名配置

### 新建一个 `alias.bat` 的文件

```bat
doskey s = yarn start
```

### 配置注册表

- 通过 `win + r` 调出运行窗口，输入 `regedit` 调出注册表
- 然后使用 `ctrl + f`，搜索 `Command Processor`
- 新建 => 字符串值
- 数值名称设置为 AutoRun，数值数据为 `alias.bat` 的绝对路径

设置完成后，重启命令行窗口即可生效。

### 扩展

#### 调用多个命令

比如一键 `push` 操作

```bat
doskey c = git add . $t git commit -m "update" $t git push
```

#### 查看配置

通过 `doskey /macros` 可以罗列出配置过的快捷指令，觉着麻烦的话，可以定义一个 `command` 的指令，来协助记忆

```bat
doskey command = doskey /macros
```

#### 传递一个参数

假如设置一个 `n` 指向 `node` 的快捷指令，想要通过 `n -v` 来查询 `node` 的版本号，实现参数传递；那么就可以这么定义

```bat
doskey n = node $*
```

#### 传递多个参数

上面传递一个参数的示例中，`$*` 指的是传递 `n` 后面的所有参数。还可以通过 `$1`、`$2` .... 这样的写法，来**定义形参**。比如定义一个 `v` 的指令，通过 `v -v -v`。可以同时查看 `npm` 和 `node` 的版本号。也可以根据需要，传递一些不同的参数。

```bat
doskey v = npm $1 $t node $2
```
